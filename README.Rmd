---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# cori.data.fcc

<!-- badges: start -->
[![Codecov test coverage](https://codecov.io/gh/ruralinnovation/cori.data.fcc/branch/main/graph/badge.svg)](https://app.codecov.io/gh/ruralinnovation/cori.data.fcc?branch=main)
[![R-CMD-check](https://github.com/ruralinnovation/cori.data.fcc/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/ruralinnovation/cori.data.fcc/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The goal of cori.data.fcc is to facilitate the discovery, download and use of FCC public data releases.

It covers:

  -  National Broadband Map [(NBM)](https://broadbandmap.fcc.gov/home) data[^bdc]
  -  [Form 477](https://www.fcc.gov/general/broadband-deployment-data-fcc-form-477) data

[^bdc]: This is data about internet services available to individual locations across the country, along with new maps of mobile coverage, as reported by Internet Service Providers (ISPs) as part of the FCCâ€™s ongoing [Broadband Data Collection](https://broadbandmap.fcc.gov/data-download/nationwide-data)).

## Installation

You can install the development version of cori.data.fcc from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("ruralinnovation/cori.data.fcc")
```

## Examples

```{r load}
library(cori.data.fcc)
```

### National Broadband Map

- The package is providing you a way to download zipped `csv`  see the vignette "Check and download NBM data"

- Access a parquet files stored in CORI s3 bucket per county:

```{r nbm_raw}
guilford_cty <- get_county_nbm_raw(geoid_co = "37081")
head(guilford_cty)
```

- Use the CORI opinionated version at the Census block level for the **last NBM's release**:

```{r nbm_block}
# get a county
nbm_bl <- get_nbm_bl(geoid_co = "47051")
dim(nbm_bl)

# get census block covered by an ISP identified by their FRN
skymesh <- get_frn_nbm_bl("0027136753")
dim(skymesh)

```

### Form 477

Sadly automating the download of some of the source data is harder for Form 477. 
We are not providing that functionality.  

You can get all data (multiple years) covering a State from Form 477:

```{r get_f477_example}
f477_vt <- get_f477("VT")
head(f477_vt)
```

### Utilities

Getting the dictionnary for each dataset:

```{r get_fcc_dictionary_ex}
head(get_fcc_dictionary())
```


The package also provide the list of Provider ID and FRN 

```{r fcc_provider}
str(fcc_provider)
```

## Inspiration

This package was imspired by https://github.com/bbcommons/bfm-explorer 
